var AutoCSS=window.AutoCSS||null;!function(a,b){AutoCSS=function(){this.values={},this.lastValues={},this.devices=["desktop","tablet","mobile"]},AutoCSS._change=!1,AutoCSS.prototype.fonts={},AutoCSS.prototype.styling_fields={color:null,image:null,position:null,cover:null,repeat:null,attachment:null,border_width:null,border_color:null,border_style:null},AutoCSS.prototype.subsets={},AutoCSS.prototype.variants={},AutoCSS.prototype.media_queries={all:"%s",desktop:"%s",tablet:"@media screen and (max-width: 1024px) { %s }",mobile:"@media screen and (max-width: 568px) { %s }"},AutoCSS.prototype.css={all:"",desktop:"",tablet:"",mobile:""},AutoCSS.prototype.box_shadow_fields={color:null,x:0,y:0,blur:0,spread:0,inset:null},AutoCSS.prototype.reset=function(){this.fonts={},this.subsets={},this.variants={},this.css={all:"",desktop:"",tablet:"",mobile:""}},AutoCSS.prototype.encodeValue=function(a){return encodeURI(JSON.stringify(a))},AutoCSS.prototype.decodeValue=function(a){return JSON.parse(decodeURI(a))},AutoCSS.prototype.loop_fields=function(a,b,c,d){_.isUndefined(c)&&(c=!1),_.isObject(b)||(b={});var e=this,f={};return _.each(a,function(a){var g=_.isUndefined(b[a.name])?null:b[a.name];if((!_.isNull(g)||!c)&&a.selector&&a.css_format)switch(a.type){case"css_ruler":f[a.name]=e.css_ruler(a,g,d);break;case"slider":f[a.name]=e.slider(a,g,d);break;case"color":f[a.name]=e.color(a,g,d);break;case"shadow":f[a.name]=e.shadow(a,g,d);break;case"checkbox":"html_class"==a.css_format?e.html_class(a,g):f[a.name]=e.checkbox(a,g,d);break;case"image":f[a.name]=e.image(a,g,d);break;case"text_align":case"text_align_no_justify":f[a.name]=e.text_align(a,g,d);break;case"font":f[a.name]=e.font(a,g,d);break;case"styling":f[a.name]=e.styling(a,g,d);break;case"typography":f[a.name]=e.typography(a,g,d);break;case"modal":e.modal(a,g);break;default:switch(a.css_format){case"background":case"styling":f[a.name]=e.styling(a,g,d);break;case"typography":f[a.name]=e.typography(a,g,d);break;case"html_class":e.html_class(a,g);break;case"html_replace":e.html_replace(a,g);break;default:f[a.name]=e.maybe_devices_setup(a,"setup_default",g,d)}}}),f},AutoCSS.prototype.run=function(c){_.isUndefined(c)&&(c=!1),this.lastValues=this.values,this.values=b.get(),window.Customify_JS&&window.Customify_JS.css_media_queries&&(this.media_queries=window.Customify_JS.css_media_queries),this.reset();var d=this;d.loop_fields(Customify_Preview_Config.fields);var e="",f=0;_.each(d.css,function(a,b){var c="";f>0&&(c="\r\n\r\n\r\n\r\n\r"),e+=c+d.media_queries[b].replace(/%s/g,a)+"\r\n",f++});var g=d.get_google_fonts_url();g&&(e="\r\n@import url('"+g+"');\r\n\r\n"+e),e=e.trim(),a("#customify-style-inline-css").length<=0&&a("head").append("<style id='customify-style-inline-css' type='text/css'></style>"),a("#customify-style-inline-css").html(e),a(document).trigger("header_builder_panel_changed",["auto_render_css"]),a(document).trigger("after_auto_render_css")},AutoCSS.prototype.get_setting=function(a,b,c){_.isUndefined(b)&&(b="desktop"),_.isUndefined(c)&&(c=!1);var d,e=null,f=!1;if(!_.isUndefined(Customify_Preview_Config.fields["setting|"+a])){var g=Customify_Preview_Config.fields["setting|"+a];f=!_.isUndefined(g.default)&&g.default}if(d=_.isUndefined(this.values[a])?f:this.values[a],_.isString(d))try{var h=this.decodeValue(d);_.isNull(h)||(d=h)}catch(a){}if(c){var i=!!_.isUndefined(d[c])&&d[c];e="all"!==b&&_.isObject(i)&&_.isObject(i)&&!_.isUndefined(i[b])?i[b]:i}else"all"!==b?_.isObject(d)&&!_.isUndefined(d[b])&&(e=d[b]):e=d;return e},AutoCSS.prototype.get_google_fonts_url=function(){var a="//fonts.googleapis.com/css?family=",b="",c=this;return!_.isEmpty(c.fonts)&&(_.each(c.fonts,function(a){b&&(b+="|"),b+=a.replace(/\s/g,"+");var d={};_.isUndefined(c.variants[a])||_.each(c.variants[a],function(a){if("regular"!==a)switch(a){case"italic":d[a]="400i";break;default:_.isString(a)?d[a]=a.replace("italic","i"):d[a]=a}}),_.isEmpty(d)||(b+=":"+c.join(d,","))}),a+=b,_.isEmpty(c.subsets)||(a+="&subset="+c.join(c.subsets,",")),a)},AutoCSS.prototype.join=function(a,b){return _.isUndefined(b)&&(b=""),_.isArray(a)?a.join(b):!_.isObject(a)||_.isEmpty(a)?"":_.values(a).join(b)},AutoCSS.prototype.str_value=function(a,b,c){if(_.isEmpty(a))return"";if(!_.isString(b))return"";_.isUndefined(c)&&(c="");var d="{{value}}",e=new RegExp(d,"g"),f=b.replace(e,a),g="{{value_no_unit}}",h=new RegExp(g,"g");return f=f.replace(h,c)},AutoCSS.prototype.setup_color=function(a,b){return!(!b||!a)&&this.str_value(a,b)},AutoCSS.prototype.setup_checkbox=function(a,b){return!(!b||!a)&&b},AutoCSS.prototype.setup_image=function(a,b){var c=this.sanitize_media(a);return!(!c.url||!b)&&this.str_value(c.url,b)},AutoCSS.prototype.setup_slider=function(a,b){_.isObject(a)||(a={}),a=_.defaults(a,{unit:"px",value:null}),a.unit||(a.unit="px");var c="",d="";return b&&a.value&&(d=a.value+a.unit,c=this.str_value(d,b,a.value)),c},AutoCSS.prototype.setup_shadow=function(a,b){var c=this;if(!_.isObject(a))return"";var d=_.defaults(a,c.box_shadow_fields),e=c.sanitize_color(d.color),f=d.inset?"inset":"";if(!e)return"";d.blur||(d.blur=0),d.spread||(d.spread=0),d.x||(d.x=0),d.y||(d.y=0);var g=d.x+"px "+d.y+"px "+d.blur+"px "+d.spread+"px "+e+" "+f;return this.str_value(g,b)},AutoCSS.prototype.setup_default=function(a,b){return!(!b||!a)&&this.str_value(a,b)},AutoCSS.prototype.setup_css_ruler=function(a,b){_.isObject(a)||(a={}),a=_.defaults(a,{unit:"",top:"",right:"",bottom:"",left:""}),_.isUndefined(a.unit)||(a.unit="px"),b=_.defaults(b,{top:"",right:"",bottom:"",left:""});var c=this,d={};return _.each(b,function(b,e){var f=a[e];f&&b&&b&&(f+=a.unit,d[e]=c.str_value(f,b))}),c.join(d,"\n\t")},AutoCSS.prototype.setup_text_align=function(a,b){return!(!b||!a)&&this.str_value(a,b)},AutoCSS.prototype.sanitize_color=function(a){return a},AutoCSS.prototype.sanitize_slider=function(a){return a=_.defaults(a,{unit:"px",value:null})},AutoCSS.prototype.sanitize_media=function(a){return _.isObject(a)||(a={}),_.defaults(a,{id:null,url:null,mime:null})},AutoCSS.prototype.maybe_devices_setup=function(a,b,c,d){var e="",f={},g=!1,h=!_.isEmpty(a.css_format)&&a.css_format,i=this;_.isUndefined(d)&&(d=!1);var j=!1;return(_.isUndefined(c)||_.isNull(c))&&(c={},j=!0),!_.isUndefined(a.device_settings)&&a.device_settings?(g=!0,_.each(i.devices,function(d){var e=null;j?e=i.get_setting(a.name,d):_.isUndefined(c[d])||(e=c[d]);var g=!1;i[b]&&(g=i[b](e,h)),g&&(f[d]=g)})):(j&&(c=i.get_setting(a.name,"all")),i[b]&&(e=i[b](c,h)),f.no_devices=e),_.isEmpty(f),e="",d?f:(g?_.each(i.devices,function(b){if(!_.isUndefined(f[b])){var c=f[b];c&&(i.css[b]+="\r\n"+a.selector+" {\r\n\t"+c+"\r\n}\r\n")}}):f.no_devices&&(i.css.all+="\r\n"+a.selector+"  {\r\n\t"+f.no_devices+"\r\n}\r\n"),e)},AutoCSS.prototype.setup_font=function(a){if(_.isObject(a)||(a={}),a=_.defaults(a,{font:null,type:null,variant:null,subsets:null}),!a.font)return"";if("google"==a.type){if(this.fonts[a.font]=a.font,a.variant&&_.isUndefined(this.variants[a.font]))if(this.variants[a.font]={},_.isString(a.variant)){var b;b={},b[a.variant]=a.variant,this.variants[a.font]=_.extend(this.variants[a.font],b)}else this.variants[a.font]=_.extend(this.variants[a.font],a.variant);a.subsets&&(this.subsets=_.extend(this.subsets,a.subsets))}return'font-family: "'+a.font+'";'},AutoCSS.prototype.font=function(a,b){var c="",d=this;return a.device_settings?_.each(this.devices,function(e){var f=null;_.isEmpty(b)?f=d.get_setting(a.name,e):_.isUndefined(b[e])||(e=b[e]);var g=d.setup_font(f);g&&(d.css[e]="\r\n"+a.selector+" {\r\n\t"+g+"\r\n}\r\n",c+="desktop"===e?"\r\n"+a.selector+" {\r\n\t"+g+"\r\n}":"\r\n."+e+" "+a.selector+" {\r\n\t"+g+"\r\n}\r\n")}):(_.isEmpty(b)&&(b=d.get_setting(a.name)),c=d.setup_font(b),d.css.all+=" "+a.selector+"  {\r\n\t"+c+"\r\n}\r\n",c+=" "+a.selector+"  {\r\n\t"+c+"\r\n}\r\n"),c},AutoCSS.prototype.css_ruler=function(a,b,c){return this.maybe_devices_setup(a,"setup_css_ruler",b,c)},AutoCSS.prototype.shadow=function(a,b,c){return this.maybe_devices_setup(a,"setup_shadow",b,c)},AutoCSS.prototype.slider=function(a,b,c){return this.maybe_devices_setup(a,"setup_slider",b,c)},AutoCSS.prototype.color=function(a,b,c){return this.maybe_devices_setup(a,"setup_color",b,c)},AutoCSS.prototype.checkbox=function(a,b,c){return this.maybe_devices_setup(a,"setup_checkbox",b,c)},AutoCSS.prototype.image=function(a,b,c){return this.maybe_devices_setup(a,"setup_image",b,c)},AutoCSS.prototype.text_align=function(a,b,c){return this.maybe_devices_setup(a,"setup_text_align",b,c)},AutoCSS.prototype.setup_styling_fields=function(a,b,c,d){var e,f,g=this,h=[];return _.isObject(c)||(c={}),_.isUndefined(d)&&(d="normal"),!1===a?h=null:(_.isObject(a)||(a={}),e={},f=0,_.each(b,function(b){_.isUndefined(g.box_shadow_fields[b.name])?(_.isUndefined(a[b.name])||a[b.name])&&(e[b.name]=b,_.isUndefined(c[d+"_"+b.name])?e[b.name].selector=c[d]:e[b.name].selector=c[d+"_"+b.name],f++):(_.isUndefined(a[b.name])||a[b.name])&&(e[b.name]=b,e[b.name].selector=null)}),h=e),h},AutoCSS.prototype.styling=function(a){var b=this,c=this.get_setting(a.name,"all");c=_.defaults(c,{normal:{},hover:{}});var d={};_.isString(a.selector)?(d.normal=a.selector,d.hover=a.selector):d=_.defaults(a.selector,{normal:null,hover:null});var e=null,f=-1,g=-1;!_.isUndefined(a.fields)&&_.isObject(a.fields)&&(_.isUndefined(a.fields.tabs)||(e=a.tabs),_.isUndefined(a.fields.normal_fields)||(f=a.normal_fields),_.isUndefined(a.fields.hover_fields)||(g=a.hover_fields));var h=b.setup_styling_fields(f,Customify_Preview_Config.styling_config.normal_fields,d,"normal"),i=b.setup_styling_fields(g,Customify_Preview_Config.styling_config.hover_fields,d,"hover"),j=_.clone(Customify_Preview_Config.styling_config.tabs);!1===e?j.hover=!1:_.isObject(e)&&(j=e);var k=function(a,b){_.each(a,function(a,c){_.isUndefined(l[a.selector])&&(l[a.selector]=""),_.isUndefined(b[c])||(_.isUndefined(b[c].no_devices)?_.each(b[c],function(b,c){_.isUndefined(m[c])&&(m[c]={}),_.isUndefined(m[c][a.selector])&&(m[c][a.selector]=""),b&&(m[c][a.selector]+=b)}):b[c].no_devices&&(l[a.selector]+=b[c].no_devices))})},l={},m={},n=b.loop_fields(h,c.normal,!0,!0),o=b.loop_fields(i,c.hover,!0,!0);k(h,n),k(i,o),_.each(l,function(a,c){b.css.all+="\r\n"+c+"  {\r\n\t"+a+"\r\n}\r\n"}),_.each(b.devices,function(a){var c="";if(!_.isUndefined(m[a])){var d=m[a];_.each(d,function(a,d){_.isString(a)?c+="\r\n"+d+"  {\r\n\t"+a+"\r\n}\r\n":c+="\r\n"+d+"  {\r\n\t"+b.join(a,"\n")+"\r\n}\r\n"})}b.css[a]+=c})},AutoCSS.prototype.modal=function(a){var b=this,c=this.get_setting(a.name,"all");_.isObject(c)||(c={}),_.isObject(a.fields.tabs)&&_.each(a.fields.tabs,function(d,e){_.isObject(a.fields[e+"_fields"])&&b.loop_fields(a.fields[e+"_fields"],c[e])})},AutoCSS.prototype.setup_font_style=function(a){_.isObject(a)||(a={}),a=_.defaults(a,{b:null,i:null,u:null,s:null,t:null});var b={};a.b&&(b.b="font-weight: bold;"),a.i&&(b.i="font-style: italic;");var c={};return a.u&&(c.underline="underline"),a.s&&(c["line-through"]="line-through"),_.isEmpty(c)||(b.d="text-decoration: "+this.join(c," ")+";"),a.t&&(b.t="text-transform: uppercase;"),this.join(b,"\r\n\t")},AutoCSS.prototype.html_replace=function(b,c){var d=b.selector,e=_.clone(c);(_.isUndefined(e)||_.isEmpty(e))&&(e=b.default),a(d).html(e)},AutoCSS.prototype.html_class=function(b,c){var d;d=_.isUndefined(c)?_.clone(c):this.get_setting(b.name,"all");var e=this,f=b.selector,g=null,h="checkbox"===b.type;if(_.isUndefined(e.lastValues[b.name])||(g=e.lastValues[b.name]),_.isString(g))try{var i=e.decodeValue(g);_.isNull(i)||(g=i)}catch(a){}if(h&&(_.isUndefined(b.device_settings)||!b.device_settings)){var j,k=b.name.split("__");return j=k.length>1?k[1]+"-active":b.name+"-active",void(d?a(f).addClass(j):a(f).removeClass(j))}_.isString(g)&&!_.isEmpty(g)?a(f).removeClass(g):_.isObject(g)&&_.each(g,function(c,d){if(c){var e=d+"--"+c;h&&(e=b.name+"-"+e),a(f).removeClass(e)}}),_.isString(d)?a(f).addClass(d):_.isObject(d)&&_.each(d,function(c,d){if(c){var e=d+"--"+c;h&&(e=b.name+"-"+e),a(f).addClass(e)}})},AutoCSS.prototype.typography=function(a,b){!_.isUndefined(b)&&_.isObject(b)||(b=this.get_setting(a.name,"all"));var c=this;_.isObject(b)||(b={}),b=_.defaults(b,{font:null,font_type:null,languages:null,font_size:null,font_weight:null,line_height:null,letter_spacing:null,style:null,text_decoration:null,text_transform:null});var d={},e={},f={};if(_.each(Customify_Preview_Config.typo_fields,function(a){e[a.name]=a}),_.isUndefined(e.font)||(d.font=this.setup_font({font:b.font,type:b.font_type,subsets:b.languages,variant:b.font_weight})),_.isUndefined(e.style)||b.style&&"default"!==b.style&&(d.style="font-style: "+b.style+";"),_.isUndefined(e.font_weight)||b.font_weight&&"default"!==b.font_weight&&"default"!==b.font_weight&&(d.font_weight="font-weight: "+b.font_weight+";"),_.isUndefined(e.text_decoration)||b.text_decoration&&"default"!==b.text_decoration&&(d.text_decoration="text-decoration: "+b.text_decoration+";"),_.isUndefined(e.text_transform)||b.text_transform&&"default"!==b.text_transform&&(d.text_transform="text-transform: "+b.text_transform+";"),!_.isUndefined(e.font_size)){e.font_size.css_format="font-size: {{value}};";var g=this.maybe_devices_setup(e.font_size,"setup_slider",b.font_size,!0);_.isEmpty(g)||(_.isUndefined(g.no_devices)?_.each(g,function(a,b){"desktop"==b?d.font_size=a:(_.isUndefined(f[b])&&(f[b]={}),f[b].font_size=a)}):d.font_size=g.no_devices)}if(!_.isUndefined(e.line_height)){e.line_height.css_format="line-height: {{value}};";var h=this.maybe_devices_setup(e.line_height,"setup_slider",b.line_height,!0);_.isEmpty(h)||(_.isUndefined(h.no_devices)?_.each(h,function(a,b){"desktop"==b?d.line_height=a:(_.isUndefined(f[b])&&(f[b]={}),f[b].line_height=a)}):d.line_height=h.no_devices)}if(!_.isUndefined(e.letter_spacing)){e.letter_spacing.css_format="letter-spacing: {{value}};";var i=this.maybe_devices_setup(e.letter_spacing,"setup_slider",b.letter_spacing,!0);i&&(_.isUndefined(i.no_devices)?_.each(i,function(a,b){"desktop"==b?d.letter_spacing=a:(_.isUndefined(f[b])&&(f[b]={}),f[b].letter_spacing=a)}):d.letter_spacing=i.no_devices)}_.each(f,function(b,d){c.css[d]+=" "+a.selector+" {\r\n\t"+c.join(b,"\r\n\t")+"\r\n}"}),c.css.all+=" "+a.selector+" {\r\n\t"+c.join(d,"\r\n\t")+"\r\n}"};var c=new AutoCSS;b.bind("preview-ready",function(){c.lastValues=b.get(),c.values=b.get()}),b.bind("change",function(){}),_.each(Customify_Preview_Config.fields,function(a){(a.selector&&a.css_format||"modal"===a.type)&&wp.customize(a.name,function(b){b.bind(function(b){c.run(a.name)})})})}(jQuery,wp.customize);